(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function u(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=u(c);fetch(c.href,h)}})();function cr(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Se,ot;function ie(){if(ot)return Se;ot=1;function i(n,u,a,c,h,p){return{tag:n,key:u,attrs:a,children:c,text:h,dom:p,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return i.normalize=function(n){return Array.isArray(n)?i("[",void 0,void 0,i.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:i("#",void 0,void 0,String(n),void 0,void 0)},i.normalizeChildren=function(n){for(var u=new Array(n.length),a=0,c=0;c<n.length;c++)u[c]=i.normalize(n[c]),u[c]!==null&&u[c].key!=null&&a++;if(a!==0&&a!==n.length)throw new TypeError(u.includes(null)?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");return u},Se=i,Se}var Ce,mt;function Ut(){if(mt)return Ce;mt=1;var i=ie();return Ce=function(n,u){return n==null||typeof n=="object"&&n.tag==null&&!Array.isArray(n)?u.length===1&&Array.isArray(u[0])&&(u=u[0]):(u=u.length===0&&Array.isArray(n)?n:[n,...u],n=void 0),i("",n&&n.key,n,u)},Ce}var Ie,ht;function et(){return ht||(ht=1,Ie={}.hasOwnProperty),Ie}var Pe,pt;function jt(){return pt||(pt=1,Pe={}),Pe}var Ne,dt;function Bt(){if(dt)return Ne;dt=1;var i=jt();return Ne=new Map([[i,!0]]),Ne}var Ee,gt;function Kt(){if(gt)return Ee;gt=1;var i=ie(),n=Ut(),u=et(),a=jt(),c=Bt(),h=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,p=Object.create(null);function o(g){for(var b in g)if(u.call(g,b))return!1;return!0}function m(g){return g==="value"||g==="checked"||g==="selectedIndex"||g==="selected"}function q(g){for(var b,v="div",y=[],M={},V=!0;b=h.exec(g);){var Q=b[1],X=b[2];if(Q===""&&X!=="")v=X;else if(Q==="#")M.id=X;else if(Q===".")y.push(X);else if(b[3][0]==="["){var K=b[6];K&&(K=K.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),b[4]==="class"?y.push(K):(M[b[4]]=K===""?K:K||!0,m(b[4])&&(V=!1))}}return y.length>0&&(M.className=y.join(" ")),o(M)?M=a:c.set(M,V),p[g]={tag:v,attrs:M,is:M.is}}function A(g,b){b.tag=g.tag;var v=b.attrs;if(v==null)return b.attrs=g.attrs,b.is=g.is,b;if(u.call(v,"class")&&(v.class!=null&&(v.className=v.class),v.class=null),g.attrs!==a){var y=v.className;v=Object.assign({},g.attrs,v),g.attrs.className!=null&&(v.className=y!=null?String(g.attrs.className)+" "+String(y):g.attrs.className)}return g.tag==="input"&&u.call(v,"type")&&(v=Object.assign({type:v.type},v)),b.is=v.is,b.attrs=v,b}function T(g,b,...v){if(g==null||typeof g!="string"&&typeof g!="function"&&typeof g.view!="function")throw Error("The selector must be either a string or a component.");var y=n(b,v);return typeof g=="string"&&(y.children=i.normalizeChildren(y.children),g!=="[")?A(p[g]||q(g),y):(y.attrs==null&&(y.attrs={}),y.tag=g,y)}return Ee=T,Ee}var $e,yt;function fr(){if(yt)return $e;yt=1;var i=ie();return $e=function(n){return n==null&&(n=""),i("<",void 0,void 0,n,void 0,void 0)},$e}var ke,wt;function lr(){if(wt)return ke;wt=1;var i=ie(),n=Ut();return ke=function(u,...a){var c=n(u,a);return c.attrs==null&&(c.attrs={}),c.tag="[",c.children=i.normalizeChildren(c.children),c},ke}var _e,vt;function sr(){if(vt)return _e;vt=1;var i=Kt();return i.trust=fr(),i.fragment=lr(),_e=i,_e}var Le,bt;function Qt(){return bt||(bt=1,Le=new WeakMap),Le}var Me,Rt;function Gt(){if(Rt)return Me;Rt=1;var i=Qt();function*n(u){var a=u.dom,c=u.domSize,h=i.get(a);if(a!=null)do{var p=a.nextSibling;i.get(a)===h&&(yield a,c--),a=p}while(c)}return Me=n,Me}var De,At;function or(){if(At)return De;At=1;var i=ie(),n=Qt(),u=Gt(),a=Bt();return De=function(){var c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},h,p;function o(t){return t.ownerDocument}function m(t){return t.attrs&&t.attrs.xmlns||c[t.tag]}function q(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function A(t){var e=t.state;try{return this.apply(e,arguments)}finally{q(t,e)}}function T(t){try{return o(t).activeElement}catch{return null}}function g(t,e,r,f,s,d,S){for(var C=r;C<f;C++){var w=e[C];w!=null&&b(t,w,s,S,d)}}function b(t,e,r,f,s){var d=e.tag;if(typeof d=="string")switch(e.state={},e.attrs!=null&&we(e.attrs,e,r),d){case"#":v(t,e,s);break;case"<":M(t,e,f,s);break;case"[":V(t,e,r,f,s);break;default:Q(t,e,r,f,s)}else K(t,e,r,f,s)}function v(t,e,r){e.dom=o(t).createTextNode(e.children),ae(t,e.dom,r)}var y={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function M(t,e,r,f){var s=e.children.match(/^\s*?<(\w+)/im)||[],d=o(t).createElement(y[s[1]]||"div");r==="http://www.w3.org/2000/svg"?(d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",d=d.firstChild):d.innerHTML=e.children,e.dom=d.firstChild,e.domSize=d.childNodes.length;for(var S=o(t).createDocumentFragment(),C;C=d.firstChild;)S.appendChild(C);ae(t,S,f)}function V(t,e,r,f,s){var d=o(t).createDocumentFragment();if(e.children!=null){var S=e.children;g(d,S,0,S.length,r,null,f)}e.dom=d.firstChild,e.domSize=d.childNodes.length,ae(t,d,s)}function Q(t,e,r,f,s){var d=e.tag,S=e.attrs,C=e.is;f=m(e)||f;var w=f?C?o(t).createElementNS(f,d,{is:C}):o(t).createElementNS(f,d):C?o(t).createElement(d,{is:C}):o(t).createElement(d);if(e.dom=w,S!=null&&er(e,S,f),ae(t,w,s),!oe(e)&&e.children!=null){var E=e.children;g(w,E,0,E.length,r,null,f),e.tag==="select"&&S!=null&&rr(e,S)}}function X(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(we(t.state,t,e),t.attrs!=null&&we(t.attrs,t,e),t.instance=i.normalize(A.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function K(t,e,r,f,s){X(e,r),e.instance!=null?(b(t,e.instance,r,f,s),e.dom=e.instance.dom,e.domSize=e.instance.domSize):e.domSize=0}function re(t,e,r,f,s,d){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)g(t,r,0,r.length,f,s,d);else if(r==null||r.length===0)te(t,e,0,e.length);else{var S=e[0]!=null&&e[0].key!=null,C=r[0]!=null&&r[0].key!=null,w=0,E=0;if(!S)for(;E<e.length&&e[E]==null;)E++;if(!C)for(;w<r.length&&r[w]==null;)w++;if(S!==C)te(t,e,E,e.length),g(t,r,w,r.length,f,s,d);else if(C){for(var x=e.length-1,B=r.length-1,he,J,U,G,L,Re;x>=E&&B>=w&&(G=e[x],L=r[B],G.key===L.key);)G!==L&&_(t,G,L,f,s,d),L.dom!=null&&(s=L.dom),x--,B--;for(;x>=E&&B>=w&&(J=e[E],U=r[w],J.key===U.key);)E++,w++,J!==U&&_(t,J,U,f,N(e,E,s),d);for(;x>=E&&B>=w&&!(w===B||J.key!==L.key||G.key!==U.key);)Re=N(e,E,s),Y(t,G,Re),G!==U&&_(t,G,U,f,Re,d),++w<=--B&&Y(t,J,s),J!==L&&_(t,J,L,f,s,d),L.dom!=null&&(s=L.dom),E++,x--,G=e[x],L=r[B],J=e[E],U=r[w];for(;x>=E&&B>=w&&G.key===L.key;)G!==L&&_(t,G,L,f,s,d),L.dom!=null&&(s=L.dom),x--,B--,G=e[x],L=r[B];if(w>B)te(t,e,E,x+1);else if(E>x)g(t,r,w,B+1,f,s,d);else{var ur=s,st=B-w+1,se=new Array(st),Ae=0,F=0,Oe=2147483647,Te=0,he,qe;for(F=0;F<st;F++)se[F]=-1;for(F=B;F>=w;F--){he==null&&(he=P(e,E,x+1)),L=r[F];var ce=he[L.key];ce!=null&&(Oe=ce<Oe?ce:-1,se[F-w]=ce,G=e[ce],e[ce]=null,G!==L&&_(t,G,L,f,s,d),L.dom!=null&&(s=L.dom),Te++)}if(s=ur,Te!==x-E+1&&te(t,e,E,x+1),Te===0)g(t,r,w,B+1,f,s,d);else if(Oe===-1)for(qe=j(se),Ae=qe.length-1,F=B;F>=w;F--)U=r[F],se[F-w]===-1?b(t,U,f,d,s):qe[Ae]===F-w?Ae--:Y(t,U,s),U.dom!=null&&(s=r[F].dom);else for(F=B;F>=w;F--)U=r[F],se[F-w]===-1&&b(t,U,f,d,s),U.dom!=null&&(s=r[F].dom)}}else{var be=e.length<r.length?e.length:r.length;for(w=w<E?w:E;w<be;w++)J=e[w],U=r[w],!(J===U||J==null&&U==null)&&(J==null?b(t,U,f,d,N(e,w+1,s)):U==null?me(t,J):_(t,J,U,f,N(e,w+1,s),d));e.length>be&&te(t,e,w,e.length),r.length>be&&g(t,r,w,r.length,f,s,d)}}}function _(t,e,r,f,s,d){var S=e.tag,C=r.tag;if(S===C&&e.is===r.is){if(r.state=e.state,r.events=e.events,ar(r,e))return;if(typeof S=="string")switch(r.attrs!=null&&ve(r.attrs,r,f),S){case"#":ee(e,r);break;case"<":z(t,e,r,d,s);break;case"[":D(t,e,r,f,s,d);break;default:O(e,r,f,d)}else k(t,e,r,f,s,d)}else me(t,e),b(t,r,f,d,s)}function ee(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function z(t,e,r,f,s){e.children!==r.children?(at(t,e),M(t,r,f,s)):(r.dom=e.dom,r.domSize=e.domSize)}function D(t,e,r,f,s,d){re(t,e.children,r.children,f,s,d);var S=0,C=r.children;if(r.dom=null,C!=null)for(var w=0;w<C.length;w++){var E=C[w];E!=null&&E.dom!=null&&(r.dom==null&&(r.dom=E.dom),S+=E.domSize||1)}r.domSize=S}function O(t,e,r,f){var s=e.dom=t.dom;f=m(e)||f,(t.attrs!=e.attrs||e.attrs!=null&&!a.get(e.attrs))&&nr(e,t.attrs,e.attrs,f),oe(e)||re(s,t.children,e.children,r,null,f)}function k(t,e,r,f,s,d){if(r.instance=i.normalize(A.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");ve(r.state,r,f),r.attrs!=null&&ve(r.attrs,r,f),r.instance!=null?(e.instance==null?b(t,r.instance,f,d,s):_(t,e.instance,r.instance,f,s,d),r.dom=r.instance.dom,r.domSize=r.instance.domSize):(e.instance!=null&&me(t,e.instance),r.domSize=0)}function P(t,e,r){for(var f=Object.create(null);e<r;e++){var s=t[e];if(s!=null){var d=s.key;d!=null&&(f[d]=e)}}return f}var H=[];function j(t){for(var e=[0],r=0,f=0,s=0,d=H.length=t.length,s=0;s<d;s++)H[s]=t[s];for(var s=0;s<d;++s)if(t[s]!==-1){var S=e[e.length-1];if(t[S]<t[s]){H[s]=S,e.push(s);continue}for(r=0,f=e.length-1;r<f;){var C=(r>>>1)+(f>>>1)+(r&f&1);t[e[C]]<t[s]?r=C+1:f=C}t[s]<t[e[r]]&&(r>0&&(H[s]=e[r-1]),e[r]=s)}for(r=e.length,f=e[r-1];r-- >0;)e[r]=f,f=H[f];return H.length=0,e}function N(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function Y(t,e,r){if(e.dom!=null){var f;if(e.domSize==null||e.domSize===1)f=e.dom;else{f=o(t).createDocumentFragment();for(var s of u(e))f.appendChild(s)}ae(t,f,r)}}function ae(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function oe(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function te(t,e,r,f){for(var s=r;s<f;s++){var d=e[s];d!=null&&me(t,d)}}function ne(t,e,r,f){var s=e.state,d=A.call(r.onbeforeremove,e);if(d!=null){var S=p;for(var C of u(e))n.set(C,S);f.v++,Promise.resolve(d).finally(function(){q(e,s),it(t,e,f)})}}function it(t,e,r){--r.v===0&&(de(e),at(t,e))}function me(t,e){var r={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&ne(t,e,e.state,r),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&ne(t,e,e.attrs,r),it(t,e,r)}function at(t,e){if(e.dom!=null)if(e.domSize==null||e.domSize===1)t.removeChild(e.dom);else for(var r of u(e))t.removeChild(r)}function de(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&A.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&A.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&de(t.instance);else{t.events!=null&&(t.events._=null);var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var f=e[r];f!=null&&de(f)}}}function er(t,e,r){for(var f in e)ge(t,f,null,e[f],r)}function ge(t,e,r,f,s){if(!(e==="key"||f==null||ut(e)||r===f&&!ir(t,e)&&typeof f!="object")){if(e[0]==="o"&&e[1]==="n")return lt(t,e,f);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),f);else if(e==="style")ft(t.dom,r,f);else if(ct(t,e,s)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+f||t.tag==="select"&&r!==null&&t.dom.value===""+f||t.tag==="option"&&r!==null&&t.dom.value===""+f)return;if(t.tag==="input"&&t.attrs.type==="file"&&""+f!=""){console.error("`value` is read-only on file inputs!");return}}t.tag==="input"&&e==="type"?t.dom.setAttribute(e,f):t.dom[e]=f}else typeof f=="boolean"?f?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,f)}}function tr(t,e,r,f){if(!(e==="key"||r==null||ut(e)))if(e[0]==="o"&&e[1]==="n")lt(t,e,void 0);else if(e==="style")ft(t.dom,r,null);else if(ct(t,e,f)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===T(t.dom)))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var s=e.indexOf(":");s!==-1&&(e=e.slice(s+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function rr(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&ge(t,"selectedIndex",null,e.selectedIndex,void 0)}function nr(t,e,r,f){var s;if(e!=null){e===r&&!a.has(r)&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var d in e)(s=e[d])!=null&&(r==null||r[d]==null)&&tr(t,d,s,f)}if(r!=null)for(var d in r)ge(t,d,e&&e[d],r[d],f)}function ir(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(t.dom===T(t.dom)||t.tag==="option"&&t.dom.parentNode===T(t.dom))}function ut(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function ct(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}function ft(t,e,r){if(e!==r)if(r==null)t.style="";else if(typeof r!="object")t.style=r;else if(e==null||typeof e!="object"){t.style="";for(var f in r){var s=r[f];s!=null&&(f.includes("-")?t.style.setProperty(f,String(s)):t.style[f]=String(s))}}else{for(var f in e)e[f]!=null&&r[f]==null&&(f.includes("-")?t.style.removeProperty(f):t.style[f]="");for(var f in r){var s=r[f];s!=null&&(s=String(s))!==String(e[f])&&(f.includes("-")?t.style.setProperty(f,s):t.style[f]=s)}}}function ye(){this._=h}ye.prototype=Object.create(null),ye.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t);var f=this;f._!=null&&(t.redraw!==!1&&(0,f._)(),r!=null&&typeof r.then=="function"&&Promise.resolve(r).then(function(){f._!=null&&t.redraw!==!1&&(0,f._)()})),r===!1&&(t.preventDefault(),t.stopPropagation())};function lt(t,e,r){if(t.events!=null){if(t.events._=h,t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new ye,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function we(t,e,r){typeof t.oninit=="function"&&A.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(A.bind(t.oncreate,e))}function ve(t,e,r){typeof t.onupdate=="function"&&r.push(A.bind(t.onupdate,e))}function ar(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=A.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=A.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var le;return function(t,e,r){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(le!=null&&t.contains(le))throw new TypeError("Node is currently being rendered to and thus is locked.");var f=h,s=le,d=[],S=T(t),C=t.namespaceURI;le=t,h=typeof r=="function"?r:void 0,p={};try{t.vnodes==null&&(t.textContent=""),e=i.normalizeChildren(Array.isArray(e)?e:[e]),re(t,t.vnodes,e,d,null,C==="http://www.w3.org/1999/xhtml"?void 0:C),t.vnodes=e,S!=null&&T(t)!==S&&typeof S.focus=="function"&&S.focus();for(var w=0;w<d.length;w++)d[w]()}finally{h=f,le=s}}},De}var ze,Ot;function Vt(){return Ot||(Ot=1,ze=or()()),ze}var He,Tt;function mr(){if(Tt)return He;Tt=1;var i=ie();return He=function(n,u,a){var c=[],h=!1,p=-1;function o(){for(p=0;p<c.length;p+=2)try{n(c[p],i(c[p+1]),m)}catch(A){a.error(A)}p=-1}function m(){h||(h=!0,u(function(){h=!1,o()}))}m.sync=o;function q(A,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var g=c.indexOf(A);g>=0&&(c.splice(g,2),g<=p&&(p-=2),n(A,[])),T!=null&&(c.push(A,T),n(A,i(T),m))}return{mount:q,redraw:m}},He}var Fe,qt;function tt(){if(qt)return Fe;qt=1;var i=Vt();return Fe=mr()(i,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Fe}var Ue,St;function Yt(){return St||(St=1,Ue=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return"";var n=[];for(var u in i)a(u,i[u]);return n.join("&");function a(c,h){if(Array.isArray(h))for(var p=0;p<h.length;p++)a(c+"["+p+"]",h[p]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var p in h)a(c+"["+p+"]",h[p]);else n.push(encodeURIComponent(c)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),Ue}var je,Ct;function rt(){if(Ct)return je;Ct=1;var i=Yt();return je=function(n,u){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(u==null)return n;var a=n.indexOf("?"),c=n.indexOf("#"),h=c<0?n.length:c,p=a<0?h:a,o=n.slice(0,p),m={};Object.assign(m,u);var q=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(M,V,Q){return delete m[V],u[V]==null?M:Q?u[V]:encodeURIComponent(String(u[V]))}),A=q.indexOf("?"),T=q.indexOf("#"),g=T<0?q.length:T,b=A<0?g:A,v=q.slice(0,b);a>=0&&(v+=n.slice(a,h)),A>=0&&(v+=(a<0?"?":"&")+q.slice(A,g));var y=i(m);return y&&(v+=(a<0&&A<0?"?":"&")+y),c>=0&&(v+=n.slice(c)),T>=0&&(v+=(c<0?"":"&")+q.slice(T)),v},je}var Be,It;function hr(){if(It)return Be;It=1;var i=rt(),n=et();return Be=function(u,a){function c(o){return new Promise(o)}function h(o,m){return new Promise(function(q,A){o=i(o,m.params);var T=m.method!=null?m.method.toUpperCase():"GET",g=m.body,b=(m.serialize==null||m.serialize===JSON.serialize)&&!(g instanceof u.FormData||g instanceof u.URLSearchParams),v=m.responseType||(typeof m.extract=="function"?"":"json"),y=new u.XMLHttpRequest,M=!1,V=!1,Q=y,X,K=y.abort;y.abort=function(){M=!0,K.call(this)},y.open(T,o,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),b&&g!=null&&!p(m,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!p(m,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(y.withCredentials=m.withCredentials),m.timeout&&(y.timeout=m.timeout),y.responseType=v;for(var re in m.headers)n.call(m.headers,re)&&y.setRequestHeader(re,m.headers[re]);y.onreadystatechange=function(_){if(!M&&_.target.readyState===4)try{var ee=_.target.status>=200&&_.target.status<300||_.target.status===304||/^file:\/\//i.test(o),z=_.target.response,D;if(v==="json"){if(!_.target.responseType&&typeof m.extract!="function")try{z=JSON.parse(_.target.responseText)}catch{z=null}}else(!v||v==="text")&&z==null&&(z=_.target.responseText);if(typeof m.extract=="function"?(z=m.extract(_.target,m),ee=!0):typeof m.deserialize=="function"&&(z=m.deserialize(z)),ee){if(typeof m.type=="function")if(Array.isArray(z))for(var O=0;O<z.length;O++)z[O]=new m.type(z[O]);else z=new m.type(z);q(z)}else{var k=function(){try{D=_.target.responseText}catch{D=z}var P=new Error(D);P.code=_.target.status,P.response=z,A(P)};y.status===0?setTimeout(function(){V||k()}):k()}}catch(P){A(P)}},y.ontimeout=function(_){V=!0;var ee=new Error("Request timed out");ee.code=_.target.status,A(ee)},typeof m.config=="function"&&(y=m.config(y,m,o)||y,y!==Q&&(X=y.abort,y.abort=function(){M=!0,X.call(this)})),g==null?y.send():typeof m.serialize=="function"?y.send(m.serialize(g)):g instanceof u.FormData||g instanceof u.URLSearchParams?y.send(g):y.send(JSON.stringify(g))})}c.prototype=Promise.prototype,c.__proto__=Promise;function p(o,m){for(var q in o.headers)if(n.call(o.headers,q)&&q.toLowerCase()===m)return!0;return!1}return{request:function(o,m){typeof o!="string"?(m=o,o=o.url):m==null&&(m={});var q=h(o,m);if(m.background===!0)return q;var A=0;function T(){--A===0&&typeof a=="function"&&a()}return g(q);function g(b){var v=b.then;return b.constructor=c,b.then=function(){A++;var y=v.apply(b,arguments);return y.then(T,function(M){if(T(),A===0)throw M}),g(y)},b}}}},Be}var Ke,Pt;function pr(){if(Pt)return Ke;Pt=1;var i=tt();return Ke=hr()(typeof window<"u"?window:null,i.redraw),Ke}var Qe,Nt;function xt(){if(Nt)return Qe;Nt=1;var i=/%(?:[0-7]|(?!c[01]|e0%[89]|ed%[ab]|f0%8|f4%[9ab])(?:c|d|(?:e|f[0-4]%[89ab])[\da-f]%[89ab])[\da-f]%[89ab])[\da-f]/gi;return Qe=function(n){return String(n).replace(i,decodeURIComponent)},Qe}var Ge,Et;function Jt(){if(Et)return Ge;Et=1;var i=xt();return Ge=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var u=n.split("&"),a={},c={},h=0;h<u.length;h++){var p=u[h].split("="),o=i(p[0]),m=p.length===2?i(p[1]):"";m==="true"?m=!0:m==="false"&&(m=!1);var q=o.split(/\]\[?|\[/),A=c;o.indexOf("[")>-1&&q.pop();for(var T=0;T<q.length;T++){var g=q[T],b=q[T+1],v=b==""||!isNaN(parseInt(b,10));if(g===""){var o=q.slice(0,T).join();a[o]==null&&(a[o]=Array.isArray(A)?A.length:0),g=a[o]++}else if(g==="__proto__")break;if(T===q.length-1)A[g]=m;else{var y=Object.getOwnPropertyDescriptor(A,g);y!=null&&(y=y.value),y==null&&(A[g]=y=v?[]:{}),A=y}}}return c},Ge}var Ve,$t;function nt(){if($t)return Ve;$t=1;var i=Jt();return Ve=function(n){var u=n.indexOf("?"),a=n.indexOf("#"),c=a<0?n.length:a,h=u<0?c:u,p=n.slice(0,h).replace(/\/{2,}/g,"/");return p?p[0]!=="/"&&(p="/"+p):p="/",{path:p,params:u<0?{}:i(n.slice(u+1,c))}},Ve}var Ye,kt;function dr(){if(kt)return Ye;kt=1;var i=nt();return Ye=function(n){var u=i(n),a=Object.keys(u.params),c=[],h=new RegExp("^"+u.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(p,o,m){return o==null?"\\"+p:(c.push({k:o,r:m==="..."}),m==="..."?"(.*)":m==="."?"([^/]+)\\.":"([^/]+)"+(m||""))})+"\\/?$");return function(p){for(var o=0;o<a.length;o++)if(u.params[a[o]]!==p.params[a[o]])return!1;if(!c.length)return h.test(p.path);var m=h.exec(p.path);if(m==null)return!1;for(var o=0;o<c.length;o++)p.params[c[o].k]=c[o].r?m[o+1]:decodeURIComponent(m[o+1]);return!0}},Ye}var xe,_t;function Wt(){if(_t)return xe;_t=1;var i=et(),n=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;return xe=function(u,a){var c={};if(a!=null)for(var h in u)i.call(u,h)&&!n.test(h)&&a.indexOf(h)<0&&(c[h]=u[h]);else for(var h in u)i.call(u,h)&&!n.test(h)&&(c[h]=u[h]);return c},xe}var Je,Lt;function gr(){if(Lt)return Je;Lt=1;var i=ie(),n=Kt(),u=xt(),a=rt(),c=nt(),h=dr(),p=Wt();return Je=function(o,m){var q=Promise.resolve(),A=!1,T=!1,g=!1,b,v,y,M,V,Q,X,K,re={onremove:function(){T=g=!1,o.removeEventListener("popstate",z,!1)},view:function(){var O=i(V,Q.key,Q);return M?M.render(O):[O]}},_=D.SKIP={};function ee(){A=!1;var O=o.location.hash;D.prefix[0]!=="#"&&(O=o.location.search+O,D.prefix[0]!=="?"&&(O=o.location.pathname+O,O[0]!=="/"&&(O="/"+O)));var k=u(O).slice(D.prefix.length),P=c(k);Object.assign(P.params,o.history.state);function H(N){console.error(N),D.set(y,null,{replace:!0})}j(0);function j(N){for(;N<v.length;N++)if(v[N].check(P)){var Y=v[N].component,ae=v[N].route,oe=Y,te=K=function(ne){if(te===K){if(ne===_)return j(N+1);V=ne!=null&&(typeof ne.view=="function"||typeof ne=="function")?ne:"div",Q=P.params,X=k,K=null,M=Y.render?Y:null,g?m.redraw():(g=!0,m.mount(b,re))}};Y.view||typeof Y=="function"?(Y={},te(oe)):Y.onmatch?q.then(function(){return Y.onmatch(P.params,k,ae)}).then(te,k===y?null:H):te();return}if(k===y)throw new Error("Could not resolve default route "+y+".");D.set(y,null,{replace:!0})}}function z(){A||(A=!0,setTimeout(ee))}function D(O,k,P){if(!O)throw new TypeError("DOM element being rendered to does not exist.");if(v=Object.keys(P).map(function(j){if(j[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(j))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:j,component:P[j],check:h(j)}}),y=k,k!=null){var H=c(k);if(!v.some(function(j){return j.check(H)}))throw new ReferenceError("Default route doesn't match any known routes.")}b=O,o.addEventListener("popstate",z,!1),T=!0,ee()}return D.set=function(O,k,P){if(K!=null&&(P=P||{},P.replace=!0),K=null,O=a(O,k),T){z();var H=P?P.state:null,j=P?P.title:null;P&&P.replace?o.history.replaceState(H,j,D.prefix+O):o.history.pushState(H,j,D.prefix+O)}else o.location.href=D.prefix+O},D.get=function(){return X},D.prefix="#!",D.Link={view:function(O){var k=n(O.attrs.selector||"a",p(O.attrs,["options","params","selector","onclick"]),O.children),P,H,j;return(k.attrs.disabled=!!k.attrs.disabled)?(k.attrs.href=null,k.attrs["aria-disabled"]="true"):(P=O.attrs.options,H=O.attrs.onclick,j=a(k.attrs.href,O.attrs.params),k.attrs.href=D.prefix+j,k.attrs.onclick=function(N){var Y;typeof H=="function"?Y=H.call(N.currentTarget,N):H==null||typeof H!="object"||typeof H.handleEvent=="function"&&H.handleEvent(N),Y!==!1&&!N.defaultPrevented&&(N.button===0||N.which===0||N.which===1)&&(!N.currentTarget.target||N.currentTarget.target==="_self")&&!N.ctrlKey&&!N.metaKey&&!N.shiftKey&&!N.altKey&&(N.preventDefault(),N.redraw=!1,D.set(j,null,P))}),k}},D.param=function(O){return Q&&O!=null?Q[O]:Q},D},Je}var We,Mt;function yr(){if(Mt)return We;Mt=1;var i=tt();return We=gr()(typeof window<"u"?window:null,i),We}var Xe,Dt;function wr(){if(Dt)return Xe;Dt=1;var i=sr(),n=tt(),u=pr(),a=yr(),c=function(){return i.apply(this,arguments)};return c.m=i,c.trust=i.trust,c.fragment=i.fragment,c.Fragment="[",c.mount=n.mount,c.route=a,c.render=Vt(),c.redraw=n.redraw,c.request=u.request,c.parseQueryString=Jt(),c.buildQueryString=Yt(),c.parsePathname=nt(),c.buildPathname=rt(),c.vnode=ie(),c.censor=Wt(),c.domFor=Gt(),Xe=c,Xe}var vr=wr();const l=cr(vr);I.SKIP={};I.lift=Ar;I.scan=br;I.merge=Xt;I.combine=pe;I.scanMerge=Rr;I["fantasy-land/of"]=I;var zt=!1;Object.defineProperty(I,"HALT",{get:function(){return zt||console.log("HALT is deprecated and has been renamed to SKIP"),zt=!0,I.SKIP}});function I(i){var n=[],u=[];function a(p){return arguments.length&&p!==I.SKIP&&(i=p,Ht(a)&&(a.changing(),a.state="active",n.forEach(function(o,m){o(u[m](i))}))),i}a.constructor=I,a.state=arguments.length&&i!==I.SKIP?"active":"pending",a.parents=[],a.changing=function(){Ht(a)&&(a.state="changing"),n.forEach(function(p){p.changing()})},a.map=function(p,o){var m=a.state==="active"&&o!==I.SKIP?I(p(i)):I();return m.parents.push(a),n.push(m),u.push(p),m};var c;function h(){return c=I(),c.map(function(p){return p===!0&&(a.parents.forEach(function(o){o.unregisterChild(a)}),a.state="ended",a.parents.length=n.length=u.length=0),p}),c}return a.toJSON=function(){return i!=null&&typeof i.toJSON=="function"?i.toJSON():i},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(p){return pe(function(o,m){return o()(m())},[p,a])},a.unregisterChild=function(p){var o=n.indexOf(p);o!==-1&&(n.splice(o,1),u.splice(o,1))},Object.defineProperty(a,"end",{get:function(){return c||h()}}),a}function pe(i,n){var u=n.every(function(o){if(o.constructor!==I)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return o.state==="active"}),a=u?I(i.apply(null,n.concat([n]))):I(),c=[],h=n.map(function(o){return o.map(function(m){return c.push(o),(u||n.every(function(q){return q.state!=="pending"}))&&(u=!0,a(i.apply(null,n.concat([c]))),c=[]),m},I.SKIP)}),p=a.end.map(function(o){o===!0&&(h.forEach(function(m){m.end(!0)}),p.end(!0))});return a}function Xt(i){return pe(function(){return i.map(function(n){return n()})},i)}function br(i,n,u){var a=u.map(function(c){var h=i(n,c);return h!==I.SKIP&&(n=h),h});return a(n),a}function Rr(i,n){var u=i.map(function(c){return c[0]}),a=pe(function(){var c=arguments[arguments.length-1];return u.forEach(function(h,p){c.indexOf(h)>-1&&(n=i[p][1](n,h()))}),n},u);return a(n),a}function Ar(){var i=arguments[0],n=Array.prototype.slice.call(arguments,1);return Xt(n).map(function(u){return i.apply(void 0,u)})}function Ht(i){return i.state==="pending"||i.state==="active"||i.state==="changing"}const W={NOTIFICATION_DURATION:3e3,MAX_QUANTITY:99,MIN_QUANTITY:1,LOW_STOCK_THRESHOLD:5,STORAGE_KEY:"galaxy_store_cart",STORAGE_VERSION:"1.0"},ue={formatPrice(i){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i)},debounce(i,n){let u;return function(...a){clearTimeout(u),u=setTimeout(()=>i(...a),n)}},validateQuantity(i){const n=parseInt(i,10);return isNaN(n)?W.MIN_QUANTITY:Math.max(W.MIN_QUANTITY,Math.min(W.MAX_QUANTITY,n))}},Ft={save(i,n){try{return localStorage.setItem(i,JSON.stringify({version:W.STORAGE_VERSION,timestamp:Date.now(),data:n})),!0}catch{return!1}},load(i){try{const n=localStorage.getItem(i);if(!n)return null;const u=JSON.parse(n);return u.version!==W.STORAGE_VERSION?(this.remove(i),null):u.data}catch{return this.remove(i),null}},remove(i){try{return localStorage.removeItem(i),!0}catch{return!1}}},Z={current:I(null),show(i,n="success"){Z.current({message:i,type:n}),setTimeout(()=>{Z.current(null),l.redraw()},W.NOTIFICATION_DURATION)}},$={items:I([]),add(i){if(!i||!i.id||i.stock<=0)return Z.show("Product unavailable","error"),!1;const n=$.items(),u=n.find(a=>a.id===i.id);if(u){if(u.quantity>=i.stock||u.quantity>=W.MAX_QUANTITY)return Z.show("Cannot add more","error"),!1;$.items(n.map(a=>a.id===i.id?{...a,quantity:a.quantity+1}:a))}else $.items([...n,{...i,quantity:1}]);return $.save(),Z.show(`${i.name} added!`),!0},remove(i){const n=$.items().find(u=>u.id===i);n&&($.items($.items().filter(u=>u.id!==i)),$.save(),Z.show(`${n.name} removed`))},updateQuantity(i,n){const u=ue.validateQuantity(n),a=$.items().find(c=>c.id===i);if(a){if(u>a.stock){Z.show(`Only ${a.stock} available`,"error");return}$.items($.items().map(c=>c.id===i?{...c,quantity:u}:c)),$.save()}},clear(){$.items([]),$.save(),Z.show("Cart cleared")},getTotal(){return $.items().reduce((i,n)=>i+n.price*n.quantity,0)},getCount(){return $.items().reduce((i,n)=>i+n.quantity,0)},save(){Ft.save(W.STORAGE_KEY,$.items())},load(){const i=Ft.load(W.STORAGE_KEY);i&&Array.isArray(i)&&$.items(i)}},Ze="https://dummyjson.com",R={list:I([]),loading:I(!1),error:I(null),searchTerm:I(""),sortBy:I("name"),filterCategory:I("all"),loadAll(){return R.loading(!0),R.error(null),l.request({method:"GET",url:`${Ze}/products`,params:{limit:30,select:"id,title,price,category,stock,thumbnail,description,images,brand,rating,warrantyInformation"}}).then(i=>{const n=i.products.map(u=>({id:u.id,name:u.title,price:u.price,category:u.category,stock:u.stock,image:u.thumbnail||u.images?.[0]||"https://via.placeholder.com/600x400",description:u.description,brand:u.brand||"Generic",rating:u.rating||0,features:[`Brand: ${u.brand||"Generic"}`,`Category: ${u.category}`,`Rating: ${u.rating||"N/A"}/5`,`Stock: ${u.stock} units available`,`Warranty: ${u.warrantyInformation||"Standard warranty"}`]}));return R.list(n),R.loading(!1),n}).catch(i=>{throw console.error("Failed to load products:",i),R.error("Failed to load products. Please try again."),R.loading(!1),i})},loadById(i){return R.loading(!0),R.error(null),l.request({method:"GET",url:`${Ze}/products/${i}`}).then(n=>{const u={id:n.id,name:n.title,price:n.price,category:n.category,stock:n.stock,image:n.thumbnail||n.images?.[0]||"https://via.placeholder.com/600x400",description:n.description,brand:n.brand||"Generic",rating:n.rating||0,features:[`Brand: ${n.brand||"Generic"}`,`Category: ${n.category}`,`Rating: ${n.rating||"N/A"}/5`,`Stock: ${n.stock} units available`,`Warranty: ${n.warrantyInformation||"Standard warranty"}`,`Dimensions: ${n.dimensions?.width||"N/A"} x ${n.dimensions?.height||"N/A"} x ${n.dimensions?.depth||"N/A"} cm`,`Weight: ${n.weight||"N/A"} kg`]},a=R.list(),c=a.findIndex(h=>h.id===u.id);return c===-1?R.list([...a,u]):(a[c]=u,R.list([...a])),R.loading(!1),u}).catch(n=>{throw console.error("Failed to load product:",n),R.error("Failed to load product details. Please try again."),R.loading(!1),n})},searchProducts(i){return!i||i.trim()===""?this.loadAll():(R.loading(!0),R.error(null),l.request({method:"GET",url:`${Ze}/products/search`,params:{q:i,limit:30}}).then(n=>{const u=n.products.map(a=>({id:a.id,name:a.title,price:a.price,category:a.category,stock:a.stock,image:a.thumbnail||a.images?.[0]||"https://via.placeholder.com/600x400",description:a.description,brand:a.brand||"Generic",rating:a.rating||0,features:[`Brand: ${a.brand||"Generic"}`,`Category: ${a.category}`,`Rating: ${a.rating||"N/A"}/5`,`Stock: ${a.stock} units available`,`Warranty: ${a.warrantyInformation||"Standard warranty"}`]}));return R.list(u),R.loading(!1),u}).catch(n=>{throw console.error("Search failed:",n),R.error("Search failed. Please try again."),R.loading(!1),n}))},getById(i){return R.list().find(n=>n.id===parseInt(i,10))},getFiltered(){let i=R.list();const n=R.searchTerm().toLowerCase().trim();n&&(i=i.filter(c=>c.name.toLowerCase().includes(n)||c.description.toLowerCase().includes(n)||c.category.toLowerCase().includes(n)));const u=R.filterCategory();u!=="all"&&(i=i.filter(c=>c.category===u));const a=R.sortBy();return i=[...i].sort((c,h)=>{switch(a){case"price-low":return c.price-h.price;case"price-high":return h.price-c.price;default:return c.name.localeCompare(h.name)}}),i},getCategories(){const i=new Set(R.list().map(n=>n.category));return["all",...Array.from(i)]}},Or={view(){const i=$.getCount();return l("nav",{role:"navigation"},l("div.logo",l("span","üõçÔ∏è"),l("a",{href:"#!/",oncreate:l.route.link},"Galaxy Store")),l("div",l("a",{href:"#!/",oncreate:l.route.link},"Products"),l("a",{href:"#!/cart",oncreate:l.route.link},["üõí Cart ",i>0?l("span.cart-badge",i):null])))}},Tr={view(){const i=Z.current();if(!i)return null;const n=i.type==="error"?"‚ùå":i.type==="info"?"‚ÑπÔ∏è":"‚úÖ";return l("div.notification",{class:i.type,role:"alert"},[l("span",n),l("span",i.message)])}},fe={view(i){return l("div",[l(Or),l(Tr),l("main#main-content.container",i.children),l("footer",[l("p","¬© 2026 Galaxy Store. All rights reserved."),l("div",[l("a",{href:"#"},"Privacy Policy"),l("a",{href:"#"},"Terms of Service"),l("a",{href:"#"},"Contact Us")])])])}},Zt={view(){return l("div.loading",l("div.spinner"))}},qr={view(){return l("div.search-container",l("input.search-input[type=search]",{placeholder:"Search products...",value:R.searchTerm(),oninput:ue.debounce(i=>R.searchTerm(i.target.value),300)}),l("span.search-icon","üîç"))}},Sr={view(){const i=R.getCategories();return l("div.filter-controls",l("select",{value:R.sortBy(),onchange:n=>R.sortBy(n.target.value)},[l("option[value=name]","Sort by Name"),l("option[value=price-low]","Price: Low to High"),l("option[value=price-high]","Price: High to Low")]),l("select",{value:R.filterCategory(),onchange:n=>R.filterCategory(n.target.value)},i.map(n=>l("option",{value:n},n==="all"?"All Categories":n.charAt(0).toUpperCase()+n.slice(1)))))}},Cr={oninit(){const n=R.lastFetchTime||0,u=Date.now();(R.list().length===0||u-n>3e5)&&R.loadAll().then(()=>{R.lastFetchTime=Date.now()})},view(){const i=R.loading(),n=R.error(),u=R.getFiltered();return l(fe,[l("h1","Our Products"),l(qr),l(Sr),n?l("div.error-message",n):null,i?l(Zt):u.length===0?l("div.no-results",[l("h3","No products found"),l("p","Try adjusting filters")]):l("div.products-grid",u.map(a=>l("article.product-card",{key:a.id,onclick:()=>l.route.set("/product/"+a.id)},[l("img",{src:a.image,alt:a.name}),l("h3",a.name),l("p.description",a.description.substring(0,100)+"..."),l("div.price",ue.formatPrice(a.price)),l("div.stock-info",{class:a.stock<=W.LOW_STOCK_THRESHOLD&&a.stock>0?"low-stock":""},a.stock===0?"Out of Stock":a.stock<=W.LOW_STOCK_THRESHOLD?`Only ${a.stock} left!`:`In Stock (${a.stock})`),l("button",{onclick:c=>{c.stopPropagation(),$.add(a)},disabled:a.stock===0},a.stock===0?"Out of Stock":"Add to Cart")])))])}},Ir={oninit(i){const n=parseInt(i.attrs.id,10);R.getById(n)||R.loadById(n).catch(()=>{l.redraw()})},view(i){const n=parseInt(i.attrs.id,10),u=R.getById(n),a=R.loading(),c=R.error();if(a&&!u)return l(fe,[l(Zt)]);if(c&&!u)return l(fe,[l("div.error-message",{role:"alert"},c),l("a.back-link",{href:"#!/",oncreate:l.route.link},"‚Üê Back to Products")]);if(!u)return l(fe,[l("div.error-message",{role:"alert"},"Products not found"),l("a.back-link",{href:"#!/",oncreate:l.route.link},"‚Üê Back to Products")]);const h=u.stock===0,p=u.stock<=W.LOW_STOCK_THRESHOLD&&u.stock>0;return l(fe,[l("a.back-link",{href:"#!/",oncreate:l.route.link},"‚Üê Back to Products"),l("article.product-detail",[l("div",[l("img",{src:u.image,alt:u.name,onerror:function(o){o.target.src="https://via.placeholder.com/600x400?text=No+Image"}})]),l("div.product-info",[l("h1",u.name),l("div.price",ue.formatPrice(u.price)),l("div.stock-info",{class:p?"low-stock":""},h?"‚ö†Ô∏è Out of Stock":p?`‚ö†Ô∏è Only ${u.stock} left in stock!`:`‚úÖ In Stock (${u.stock} available)`),l("p.description",u.description),l("div",[l("h3",{style:"margin-bottom: 1rem;"},"Features"),l("ul.features",u.features.map(o=>l("li",{key:o},o)))]),l("div.product-actions",[l("button.add-to-cart-btn",{onclick:()=>$.add(u),disabled:h,"aria-label":`Add ${u.name} to cart`},h?"Out of Stock":"Add to Cart"),l("button.buy-now-btn",{onclick:()=>{$.add(u)&&l.route.set("/cart")},disabled:h,"aria-label":`Buy ${u.name} now`},h?"Out of Stock":"Buy Now")])])])])}},Pr={view(){const i=$.items(),n=$.getTotal(),u=$.getCount();return l(fe,[l("h1","Shopping Cart"),i.length===0?l("div.empty-cart",[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("circle",{cx:"9",cy:"21",r:"1"}),l("circle",{cx:"20",cy:"21",r:"1"}),l("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]),l("h2","Your cart is empty"),l("p","Add some products!"),l("a",{href:"#!/",oncreate:l.route.link},"Continue Shopping")]):l("div",[l("div.cart-items",i.map(a=>l("article.cart-item",{key:a.id},[l("img",{src:a.image,alt:a.name}),l("div.cart-item-info",[l("h3",a.name),l("p.price",ue.formatPrice(a.price)),a.quantity>a.stock?l("p.stock-info.low-stock",`‚ö†Ô∏è Only ${a.stock} available`):null]),l("div.cart-item-actions",[l("div.quantity-controls",[l("button",{onclick:()=>$.updateQuantity(a.id,a.quantity-1),disabled:a.quantity<=W.MIN_QUANTITY},"‚àí"),l("span",a.quantity),l("button",{onclick:()=>$.updateQuantity(a.id,a.quantity+1),disabled:a.quantity>=Math.min(a.stock,W.MAX_QUANTITY)},"+")]),l("span",{style:"font-weight:bold"},ue.formatPrice(a.price*a.quantity)),l("button",{onclick:()=>$.remove(a.id)},"Remove")])]))),l("div.cart-total",[l("div.item-count",`${u} ${u===1?"item":"items"}`),l("h2","Total: "+ue.formatPrice(n))]),l("button.checkout-btn",{onclick:()=>{if(i.filter(c=>c.quantity>c.stock).length>0){Z.show("Adjust quantities","error");return}Z.show("Checkout demo!","info")}},"Proceed to Checkout")])])}};$.load();l.route(document.getElementById("app"),"/",{"/":Cr,"/product/:id":Ir,"/cart":Pr});
